<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Laporan - Pertemuan 4</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #1a1a2e, #16213e); min-height: 100vh; padding: 20px; color: #fff; }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 10px; } h1 span { color: #00d4ff; }
        .subtitle { text-align: center; color: #888; margin-bottom: 30px; }
        .card { background: rgba(255,255,255,0.05); border-radius: 15px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.1); }
        .card h2 { color: #00d4ff; margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; color: #ccc; font-size: 0.9rem; }
        input[type="text"], input[type="date"], textarea { width: 100%; padding: 12px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(0,0,0,0.3); color: #fff; font-size: 1rem; font-family: inherit; }
        input:focus, textarea:focus { outline: none; border-color: #00d4ff; }
        textarea { min-height: 100px; resize: vertical; }
        textarea.code { font-family: monospace; min-height: 150px; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px; margin-bottom: 10px; }
        .checkbox-group input { width: 20px; height: 20px; }
        .checkbox-group label { margin: 0; flex: 1; }
        .screenshot-item { background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px; }
        .screenshot-item h4 { color: #ffd700; margin-bottom: 10px; }
        input[type="file"] { width: 100%; padding: 10px; background: rgba(0,212,255,0.1); border: 2px dashed rgba(0,212,255,0.5); border-radius: 8px; }
        .preview-img { max-width: 100%; max-height: 200px; border-radius: 8px; margin-top: 10px; display: none; }
        .btn { padding: 15px 30px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; }
        .btn-primary { background: linear-gradient(135deg, #00d4ff, #0099cc); color: #000; font-weight: bold; }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); }
        .buttons { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; margin-top: 30px; }
        .preview-section { background: #0d1117; border-radius: 10px; padding: 20px; margin-top: 20px; display: none; }
        .preview-content { background: #161b22; padding: 20px; border-radius: 8px; white-space: pre-wrap; font-family: monospace; font-size: 0.85rem; max-height: 400px; overflow-y: auto; color: #c9d1d9; }
        .info-box { background: rgba(0,212,255,0.1); border-left: 4px solid #00d4ff; padding: 15px; margin-bottom: 20px; }
        .row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .success-message { position: fixed; top: 20px; right: 20px; background: #00ff88; color: #000; padding: 15px 25px; border-radius: 10px; font-weight: bold; display: none; z-index: 1000; }
        .nav-link { text-align: center; margin-bottom: 20px; }
        .nav-link a { color: #00d4ff; text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-link"><a href="README.md">ğŸ“– Materi</a> | <a href="index.html">ğŸŒ Web</a> | <a href="../index.html">ğŸ  Home</a></div>
        <h1>ğŸ“ Form Laporan <span>Pertemuan 4</span></h1>
        <p class="subtitle">Docker Compose</p>
        <div class="info-box"><p style="color:#aaa">ğŸ’¡ Isi form â†’ Download LAPORAN.md â†’ Simpan screenshot di folder <code>ss/</code></p></div>

        <div class="card">
            <h2>ğŸ‘¤ Identitas</h2>
            <div class="row">
                <div class="form-group"><label>Nama</label><input type="text" id="nama" placeholder="Budi Santoso"></div>
                <div class="form-group"><label>NIM</label><input type="text" id="nim" placeholder="12345678"></div>
            </div>
            <div class="row">
                <div class="form-group"><label>Kelas</label><input type="text" id="kelas" placeholder="TI-3A"></div>
                <div class="form-group"><label>Tanggal</label><input type="date" id="tanggal"></div>
            </div>
        </div>

        <div class="card">
            <h2>âœ… Checklist</h2>
            <div class="checkbox-group"><input type="checkbox" id="task1"><label>Buat docker-compose.yml</label></div>
            <div class="checkbox-group"><input type="checkbox" id="task2"><label>Buat aplikasi Flask + MySQL</label></div>
            <div class="checkbox-group"><input type="checkbox" id="task3"><label>docker-compose up berhasil</label></div>
            <div class="checkbox-group"><input type="checkbox" id="task4"><label>Aplikasi bisa diakses di browser</label></div>
            <div class="checkbox-group"><input type="checkbox" id="task5"><label>Screenshot lengkap</label></div>
        </div>

        <div class="card">
            <h2>ğŸ’» Kode Program</h2>
            <div class="form-group"><label>ğŸ“„ docker-compose.yml</label>
                <textarea id="kode_compose" class="code" placeholder="version: '3.8'

services:
  database:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: rahasia
      MYSQL_DATABASE: myapp
    volumes:
      - db-data:/var/lib/mysql

  web:
    build: ./app
    ports:
      - '5000:5000'
    depends_on:
      - database

volumes:
  db-data:"></textarea>
            </div>
            <div class="form-group"><label>ğŸ³ app/Dockerfile</label><textarea id="kode_dockerfile" class="code" placeholder="FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD [&quot;python&quot;, &quot;app.py&quot;]"></textarea></div>
            <div class="form-group"><label>ğŸ app/app.py</label><textarea id="kode_app" class="code" placeholder="from flask import Flask
app = Flask(__name__)

@app.route('/')
def home():
    return 'Hello Docker Compose!'

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)"></textarea></div>
            <div class="form-group"><label>ğŸ“‹ app/requirements.txt</label><textarea id="kode_req" placeholder="flask
mysql-connector-python"></textarea></div>
        </div>

        <div class="card">
            <h2>ğŸ–¼ï¸ Screenshot</h2>
            <div class="screenshot-item"><h4>1ï¸âƒ£ Struktur Folder</h4><input type="file" id="ss1" accept="image/*" onchange="previewImg(this,'p1')"><img id="p1" class="preview-img"></div>
            <div class="screenshot-item"><h4>2ï¸âƒ£ Docker Compose Up</h4><input type="file" id="ss2" accept="image/*" onchange="previewImg(this,'p2')"><img id="p2" class="preview-img"><div class="form-group" style="margin-top:10px"><label>Penjelasan:</label><textarea id="pjls2" placeholder="Semua service berhasil berjalan"></textarea></div></div>
            <div class="screenshot-item"><h4>3ï¸âƒ£ Docker Compose PS</h4><input type="file" id="ss3" accept="image/*" onchange="previewImg(this,'p3')"><img id="p3" class="preview-img"><div class="form-group" style="margin-top:10px"><label>Output:</label><textarea id="output_ps" placeholder="NAME       SERVICE    STATUS
web-1      web        running
db-1       database   running"></textarea></div></div>
            <div class="screenshot-item"><h4>4ï¸âƒ£ Aplikasi di Browser</h4><input type="file" id="ss4" accept="image/*" onchange="previewImg(this,'p4')"><img id="p4" class="preview-img"><div class="form-group" style="margin-top:10px"><label>URL:</label><input type="text" id="url_app" placeholder="http://localhost:5000"></div></div>
            <div class="screenshot-item"><h4>5ï¸âƒ£ Docker Compose Logs</h4><input type="file" id="ss5" accept="image/*" onchange="previewImg(this,'p5')"><img id="p5" class="preview-img"></div>
            <div class="screenshot-item"><h4>6ï¸âƒ£ Fitur Aplikasi (CRUD)</h4><input type="file" id="ss6" accept="image/*" onchange="previewImg(this,'p6')"><img id="p6" class="preview-img"><div class="form-group" style="margin-top:10px"><label>Penjelasan fitur:</label><textarea id="pjls6" placeholder="Fitur yang berhasil: tambah data, lihat data, dll"></textarea></div></div>
        </div>

        <div class="card">
            <h2>âš ï¸ Kendala & Solusi</h2>
            <div class="form-group"><label>Kendala:</label><textarea id="kendala" placeholder="Tidak ada kendala"></textarea></div>
            <div class="form-group"><label>Solusi:</label><textarea id="solusi" placeholder="-"></textarea></div>
        </div>

        <div class="card">
            <h2>ğŸ’¡ Kesimpulan</h2>
            <textarea id="kesimpulan" style="min-height:150px" placeholder="- Docker Compose mempermudah multi-container
- depends_on mengatur urutan startup
- Volume untuk persistensi data
- Satu perintah untuk semua service"></textarea>
        </div>

        <div class="buttons">
            <button class="btn btn-secondary" onclick="preview()">ğŸ‘ï¸ Preview</button>
            <button class="btn btn-primary" onclick="download()">ğŸ“¥ Download LAPORAN.md</button>
        </div>
        <div class="preview-section" id="previewSection"><h3 style="color:#00d4ff;margin-bottom:15px">ğŸ“„ Preview</h3><div class="preview-content" id="previewContent"></div></div>
    </div>
    <div class="success-message" id="msg"></div>

    <script>
        document.getElementById('tanggal').valueAsDate = new Date();
        function previewImg(i,id){const img=document.getElementById(id);if(i.files[0]){const r=new FileReader();r.onload=e=>{img.src=e.target.result;img.style.display='block'};r.readAsDataURL(i.files[0])}}
        function v(id){return document.getElementById(id)?.value||''}
        function c(id){return document.getElementById(id)?.checked?'âœ… Sudah':'â¬œ Belum'}

        function generateMd(){
            const tgl=v('tanggal')?new Date(v('tanggal')).toLocaleDateString('id-ID'):'[Tanggal]';
            return `# ğŸ“ Laporan Praktikum - Pertemuan 4

## ğŸ¼ Docker Compose

---

## ğŸ‘¤ Identitas

| Field | Isi |
|-------|-----|
| **Nama** | ${v('nama')||'[Nama]'} |
| **NIM** | ${v('nim')||'[NIM]'} |
| **Kelas** | ${v('kelas')||'[Kelas]'} |
| **Tanggal** | ${tgl} |

---

## âœ… Checklist

| No | Tugas | Status |
|----|-------|--------|
| 1 | Buat docker-compose.yml | ${c('task1')} |
| 2 | Buat aplikasi Flask+MySQL | ${c('task2')} |
| 3 | docker-compose up berhasil | ${c('task3')} |
| 4 | Aplikasi diakses di browser | ${c('task4')} |
| 5 | Screenshot lengkap | ${c('task5')} |

---

## ğŸ’» Kode Program

### ğŸ“„ docker-compose.yml
\`\`\`yaml
${v('kode_compose')||'# docker-compose.yml'}
\`\`\`

### ğŸ³ app/Dockerfile
\`\`\`dockerfile
${v('kode_dockerfile')||'# Dockerfile'}
\`\`\`

### ğŸ app/app.py
\`\`\`python
${v('kode_app')||'# app.py'}
\`\`\`

### ğŸ“‹ app/requirements.txt
\`\`\`
${v('kode_req')||'flask'}
\`\`\`

---

## ğŸ–¼ï¸ Screenshot

### 1ï¸âƒ£ Struktur Folder
![Struktur](ss/01-struktur-folder.png)

### 2ï¸âƒ£ Docker Compose Up
![Compose Up](ss/02-compose-up.png)
\`\`\`
${v('pjls2')||'[Penjelasan]'}
\`\`\`

### 3ï¸âƒ£ Docker Compose PS
![Compose PS](ss/03-compose-ps.png)
\`\`\`
${v('output_ps')||'[Output]'}
\`\`\`

### 4ï¸âƒ£ Aplikasi di Browser
![Browser](ss/04-browser.png)
**URL:** \`${v('url_app')||'http://localhost:5000'}\`

### 5ï¸âƒ£ Docker Compose Logs
![Logs](ss/05-compose-logs.png)

### 6ï¸âƒ£ Fitur Aplikasi
![Fitur](ss/06-fitur-crud.png)
\`\`\`
${v('pjls6')||'[Penjelasan fitur]'}
\`\`\`

---

## âš ï¸ Kendala & Solusi
**Kendala:** ${v('kendala')||'Tidak ada'}
**Solusi:** ${v('solusi')||'-'}

---

## ğŸ’¡ Kesimpulan
\`\`\`
${v('kesimpulan')||'[Kesimpulan]'}
\`\`\`

---

## ğŸ“Š Penilaian

| Kriteria | Nilai |
|----------|-------|
| docker-compose.yml | /30 |
| Flask+MySQL terhubung | /30 |
| Fitur aplikasi | /20 |
| Screenshot | /10 |
| Kesimpulan | /10 |
| **Total** | **/100** |

---
<div align="center">ğŸ“… **Pertemuan 4** | [ğŸ  README](README.md)</div>
`}

        function preview(){document.getElementById('previewContent').textContent=generateMd();document.getElementById('previewSection').style.display='block'}
        function download(){const b=new Blob([generateMd()],{type:'text/markdown'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='LAPORAN.md';a.click();const m=document.getElementById('msg');m.textContent='âœ… Downloaded!';m.style.display='block';setTimeout(()=>m.style.display='none',3000)}

        const fields=['nama','nim','kelas','tanggal','task1','task2','task3','task4','task5','kode_compose','kode_dockerfile','kode_app','kode_req','pjls2','output_ps','url_app','pjls6','kendala','solusi','kesimpulan'];
        function save(){const d={};fields.forEach(f=>{const el=document.getElementById(f);if(el)d[f]=el.type==='checkbox'?el.checked:el.value});localStorage.setItem('laporan_p4',JSON.stringify(d))}
        function load(){const s=localStorage.getItem('laporan_p4');if(s){const d=JSON.parse(s);fields.forEach(f=>{const el=document.getElementById(f);if(el)el.type==='checkbox'?el.checked=d[f]:el.value=d[f]||''})}}
        document.querySelectorAll('input,textarea').forEach(el=>{el.addEventListener('change',save);el.addEventListener('input',save)});
        load();
    </script>
</body>
</html>
